<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Register Admin</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Adamina&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cookie">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
    <link rel="stylesheet" href="assets/css/Bootstrap-Chat.css">
    <link rel="stylesheet" href="assets/css/cards-d_style.css">
    <link rel="stylesheet" href="assets/css/checkbox.css">
    <link rel="stylesheet" href="assets/css/Community-ChatComments.css">
    <link rel="stylesheet" href="assets/css/FAQ-Frequentlly-Asked-Questions-faq.css">
    <link rel="stylesheet" href="assets/css/FAQ-Frequentlly-Asked-Questions.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/css/theme.bootstrap_4.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="assets/css/Ludens---1-Dark-mode-Index-Table-with-Search-Filters.css">
    <link rel="stylesheet" href="assets/css/Navbar-With-Button-icons.css">
    <link rel="stylesheet" href="assets/css/Pretty-Header-.css">
    <link rel="stylesheet" href="assets/css/Profile-Card-Slider---Slick-Slider.css">
    <link rel="stylesheet" href="assets/css/responsive-blog-card-slider.css">
    <link rel="stylesheet" href="assets/css/Responsive-UI-Card-02.css">
</head>

<body class="bg-gradient-primary">
    <header>
        <div style="display: flex;background: var(--bs-white);"><img class="d-inline-block" style="display: inline-block;width: 102px;height: 87px;margin-left: 61px;" src="assets/img/01-500x500.jpg">
            <h3 style="color: var(--bs-black);margin-left: 83px;margin-top: 21px;font-weight: bold;">Department for Registration of Person</h3><img class="float-end" src="assets/img/images.png" style="width: 66px;margin-left: 372px;">
        </div>
    </header>
    <div class="container">
        <div class="card shadow-lg o-hidden border-0 my-5">
            <div class="card-body p-0" style="height: 509px;">
                <div class="row">
                    <div class="col-lg-5 d-none d-lg-flex"><img src="assets/img/it-support-dallas.jpg" style="width: 112%;height: 111%;"></div>
                    <div class="col-lg-7">
                        <div class="p-5">
                            <div class="text-center">
                                <h4 class="mb-4" style="/*border-left-color: var(--bs-card-cap-bg);*/color: var(--bs-black);font-weight: bold;font-size: 32px;font-family: Adamina, serif;">Register Officer -Admin</h4>
                            </div>
                            <form id="userform3"class="user" style="margin-top: 21px;">
                                <div class="row mb-3">
                                    <div class="col-sm-6 mb-3 mb-sm-0"><input class="form-control form-control-user" type="text" id="FullName" placeholder="Full Name" name="fulname" style="height: 33px;margin-top: 21px;font-size: 100%;text-align: center;color: var(--bs-black);"></div>
                                    <div class="col-sm-6"><input class="form-control form-control-user" type="text" id="Des" placeholder="Designation" name="Des" style="height: 33px;margin-top: 21px;font-size: 100%;text-align: center;color: var(--bs-black);width: 104%;"></div>
                                </div>
                                <div class="mb-3" style="width: 103%;"><input class="border-1 border-success form-control-user" type="text" id="ID" aria-describedby="emailHelp" placeholder="ID Number" name="ID" style="height: 35px;margin-top: 16px;width: 47%;font-size: 90%;text-align: center;background: var(--bs-card-cap-bg);border-color: rgb(0, 0, 0);border-top-color: rgb(0,;border-right-color: 0,;border-bottom-color: 0);border-left-color: 0,;">
                                    <input class="form-control d-inline-block form-control-user" type="text" id="EPF" placeholder="EPF Number" name="EPF" style="height: 35px;margin: 17px 0px 0px;margin-top: 18px;width: 50%;margin-left: 2%;text-align: center;font-size: 100%;"></div>
                                <div class="mb-3" style="width: 102%;"><input class="border-1 border-success form-control-user" type="email" id="Email"  placeholder="Email" name="Email" style="height: 35px;margin-top: 16px;width: 47%;font-size: 90%;text-align: center;background: var(--bs-card-cap-bg);border-color: rgb(0, 0, 0);border-top-color: rgb(0,;border-right-color: 0,;border-bottom-color: 0);border-left-color: 0,;">
                                    <input class="form-control d-inline-block form-control-usePassword" type="password" id="Password" placeholder="Password" name="password" style="height: 35px;margin: 11px 0px 0px;margin-top: 18px;width: 45%;margin-left: 3%;text-align: center;font-size: 100%;border-radius: 21.6px;">
                                </div><button class="btn btn-outline-primary active d-block btn-user w-100" id="BTN" type="submit" style="margin-top: 14px;">Register Account</button>
                                <hr>
                                <hr>
                            </form>
                            <div class="text-center"></div>
                            <div class="text-center"><a class="small" href="login.html">Already have an account? Login!</a></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/jquery.tablesorter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/widgets/widget-filter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/widgets/widget-storage.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script src="assets/js/Ludens---1-Dark-mode-Index-Table-with-Search-Filters-1.js"></script>
    <script src="assets/js/Ludens---1-Dark-mode-Index-Table-with-Search-Filters-2.js"></script>
    <script src="assets/js/Ludens---1-Dark-mode-Index-Table-with-Search-Filters.js"></script>
    <script src="assets/js/Profile-Card-Slider---Slick-Slider.js"></script>
    <script src="assets/js/responsive-blog-card-slider-1.js"></script>
    <script src="assets/js/responsive-blog-card-slider.js"></script>
    <script src="assets/js/theme.js"></script>
</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
//Import fromGet start
    import { getDatabase ,set,ref,update} from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword ,signOut} from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
   



    const firebaseConfig = {
    apiKey: "AIzaSyBATTT6lgcTQzPOU197cYVe6hYK3xo7VSY",
    authDomain: "govinfo-1350e.firebaseapp.com",
    databaseURL: "https://govinfo-1350e-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "govinfo-1350e",
    storageBucket: "govinfo-1350e.appspot.com",
    messagingSenderId: "286320982625",
    appId: "1:286320982625:web:8b8a3eb4653b0c37f68820"
};
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getDatabase(app);
    const auth = getAuth(app);

    document.getElementById("userform3").addEventListener("submit",function(e){
        e.preventDefault();
        let Fname = document.getElementById("FullName").value;
        let Des= document.getElementById("Des").value;
        
        let ID = document.getElementById("ID").value;
        let EPF= document.getElementById("EPF").value;
        let email= document.getElementById("Email").value;
        let Password= document.getElementById("Password").value;
        
        
             createUserWithEmailAndPassword(auth, email, Password)
            .then((userCredential) => {
                // Signed in 
                const user = userCredential.user;
                // ...user.uid
                set(ref(db, 'Admin/' + user.uid), {
                    Fname:Fname,
                    Designation:Des,
                    ID:ID,
                    EPF:EPF,
                    Email:email,
                    password:Password

                })
                .then(()=>{
                    alert("Registerd succesfully"),
                    
                  window.location.assign("login.html");
                    
                })
                .catch((error) => {
                    // The write failed...
                    alert(error);
                    });

                
            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                // ..
                alert(errorMessage);
            });
                   
      
    });
    </script>
</html>